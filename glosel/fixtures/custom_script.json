[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Employee", 
  "modified": "2016-07-06 11:59:49.690055", 
  "name": "Employee-Client", 
  "script": "cur_frm.add_fetch('employment_type','code','code')", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Delivery Note", 
  "modified": "2016-09-22 15:30:52.866152", 
  "name": "Delivery Note-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")\nfrappe.ui.form.on(\"Delivery Note\", {\n    get_schemes: function(frm) {\n        frappe.msgprint(\"<b>Schemes Avalable</b>\")\n       frappe.call({\n        method: \"glosel.scheme_management.get_schemes\",\n        args: {\"doc\": frm.doc},\n        callback: function(r, rt){\n              console.log(r.message,\"jiiiiiiii\");\n              cur_frm.doc.schemes_available=[]\n              refresh_field(\"schemes_available\")\n              $.each(r.message,function(i,d){\n                  var row = frappe.model.add_child(cur_frm.doc, \"Schemes Available\", \"schemes_available\");\n                  row.apply_on = d.apply_on;\n                  row.scheme_name = d.name;\n                  row.valid_from = d.valid_from;\n                  row.valid_upto = d.valid_upto;\n                  row.scheme_type = d.scheme_type\n              })\n              frm.save()\n              frm.refresh()\n          }\n        });\n    },\n});\n\nfrappe.ui.form.on(\"Schemes Available\", \"apply\", function(frm,cdt,cdn) {\n    var d=locals[cdt][cdn]\n    frappe.call({\n                   method: \"frappe.client.get_list\",\n                   args: {\n                       doctype: \"Scheme Management Item\",\n                       fields: [\"apply_on\", \"item_code\"],\n                       filters: { 'parent': d.scheme_name },\n                   },\n                      callback: function(res){\n                         if (res && res.message){\n                              $.each(res.message,function(i,k){\n                              var row = frappe.model.add_child(cur_frm.doc, \"Schemes Selected\", \"schemes_selected\");\n                              row.scheme_name = d.scheme_name;\n                              row.apply_on = d.apply_on;\n                              row.scheme_type = d.scheme_type;\n                              row.item_code=k.item_code;     \n                              // console.log(d.scheme_type,\"d.scheme_type\")                           \n                              // console.log(d.scheme_name,\"d.scheme_name\")                           \n                              })\n                              frappe.msgprint(\"Free items added\")\n                              // var free_item = res.message;\n                              // abc=frappe.render_template(\"render_free_item\", {\"free_item\":free_item, \"scheme_type\": d.scheme_type});\n                          }\n                      }     \n               }); \n\n});\nfrappe.ui.form.on(\"Schemes Available\", \"view_details\", function(frm,cdt,cdn) {\n    var d=locals[cdt][cdn]\n    frappe.call({\n               method: \"frappe.client.get_list\",\n               args: {\n                   doctype: \"Scheme Management Item\",\n                   fields: [\"apply_on\", \"item_code\"],\n                   filters: { 'parent': d.scheme_name },\n               },\n                  callback: function(res){\n                     if (res && res.message){\n                          console.log( res.message,\"list of all\");\n                          // $.each(res.message,function(i,d){\n                          //   html+= d.item_code + '<br>'\n                          // })\n                          var free_item = res.message;\n                          // msgprint(html);\n                          abc=frappe.render_template(\"render_free_item\", {\"free_item\":free_item, \"scheme_type\": d.scheme_type});\n                          frappe.msgprint(abc);\n                          $(\"#add-selected-item\").click(function(){\n                            selected_item=$(\"input[type='radio'][name='_select']:checked\").val();\n                            console.log(selected_item)\n                            console.log(\"sff\")\n                            frappe.model.set_value(cdt, cdn, \"selected_item\", selected_item);\n                          })\n                      }\n                  }     \n           }); \n\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Order", 
  "modified": "2016-09-16 19:30:03.521256", 
  "name": "Purchase Order-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")\nfrappe.ui.form.on(\"Purchase Order Item\",\"item_code\" ,function(frm,cdt,cdn){\n\tif (cur_frm.doc.supplier==\"\")\n\t{\n\tfrappe.throw(__(\"Please Enter Supplier Name\"))\t\n\t}\n\titems=locals[cdt][cdn]\n\treturn frappe.call({\n\t\t\tmethod: \"glosel.api.fetch_supplier_uom\",\n\t\t\targs: {\n\t\t\t\tsupplier: frm.doc.supplier,\n\t\t\t\titem:items.item_code\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.message){\n\t\t\t\t\t// console.log(r.message)\n\t\t\t\t\t// console.log(items.unit_of_measure)\n\t\t\t\t\t// items.unit_of_measure=r.message\n\t\t\t\t\t items.uom=r.message\n\t\t\t\t\t// console.log(items.uom)\n\t\t\t\t\t// cur_frm.refresh_fields()\n\t\t\t\t\t//frappe.model.set_value(cdt, cdn, \"uom\", r.message);\n\t\t\t\t\tconsole.log(\"before refresh\",items.uom)\n\t\t\t\t\tcur_frm.refresh_field(\"items\")\n\t\t\t\t\tconsole.log(\"after Refresh\",items.uom)\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Salary Structure", 
  "modified": "2016-06-13 16:48:03.704616", 
  "name": "Salary Structure-Client", 
  "script": "cur_frm.add_fetch(\"employee\",\"esi_ip_number\",\"esi_ip_number\")\ncur_frm.add_fetch(\"employee\",\"epfo_pf_account_number\",\"epfo_pf_account_number\")", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Salary Slip", 
  "modified": "2016-06-07 19:01:08.087305", 
  "name": "Salary Slip-Client", 
  "script": "cur_frm.add_fetch(\"employee\", \"epfo_pf_account_number\", \"epfo_pf_account_number\");\n\ncur_frm.add_fetch(\"employee\", \"esi_ip_number\", \"esi_ip_number\");\n\ncur_frm.add_fetch(\"employee\", \"pan\", \"pan\");\n\ncur_frm.add_fetch(\"employee\", \"department\", \"department\");\n\ncur_frm.add_fetch(\"employee\", \"designation\", \"designation\");\n\ncur_frm.add_fetch(\"employee\", \"salary_mode\", \"salary_mode\");\ncur_frm.add_fetch(\"employee\", \"bank_ac_no\", \"bank_acount_no\");", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Item", 
  "modified": "2016-09-17 12:49:33.560959", 
  "name": "Item-Client", 
  "script": "frappe.ui.form.on(\"Item\",\"brand\" ,function(frm){\n \tconsole.log(\"ffff\",frm.doc.brand)\n \tfrappe.call({\n \t\tmethod:\"glosel.custom_py_methods.item_autoname\",\n \t\targs:{\n \t\t\t\"brand\":frm.doc.brand\n \t\t},\n \t\tcallback: function(r) {\n \t\t\t\tif(r.message){\n \t\t\t\t\t// console.log(r.message)\n \t\t\t\t\tfrm.doc.item_code=r.message\n \t\t\t\t\tconsole.log(items.uom)\n \t\t\t\t\t// cur_frm.refresh_fields()\n \t\t\t\t}\n \t\t\t}\n \t\t});\t})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Process Payroll", 
  "modified": "2016-06-14 16:41:57.754889", 
  "name": "Process Payroll-Client", 
  "script": "", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2016-09-17 13:26:01.584738", 
  "name": "Sales Order-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")\nfrappe.ui.form.on(\"Sales Order\",\"is_pro_forma\" ,function(frm){\n\nif (cur_frm.doc.is_pro_forma==1){\n     cur_frm.set_value(\"naming_series\",\"PFI.cc./CS/1617/\")\n} else {\n\n    cur_frm.set_value(\"naming_series\",\"SO.cc./CS/1617/\")\n    cur_frm.refresh_fields()\n}\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2016-09-17 15:04:31.670387", 
  "name": "Sales Invoice-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")\nfrappe.ui.form.on(\"Sales Invoice\",\"refresh\" ,function(frm){\n\nif (cur_frm.doc.is_return==1){\n     cur_frm.set_value(\"naming_series\",\"SRT.cc./CS/1617/\")\n} else {\n\n    cur_frm.set_value(\"naming_series\",\"SI.cc./CS/1617/\")\n    cur_frm.refresh_fields()\n}\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Invoice", 
  "modified": "2016-09-16 19:31:08.788059", 
  "name": "Purchase Invoice-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Receipt", 
  "modified": "2016-09-16 19:31:29.518454", 
  "name": "Purchase Receipt-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Quotation", 
  "modified": "2016-09-16 19:31:51.190891", 
  "name": "Quotation-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Journal Entry", 
  "modified": "2016-09-17 16:09:47.162169", 
  "name": "Journal Entry-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")\nfrappe.ui.form.on(\"Journal Entry\",\"refresh\" ,function(frm){\n\nif (cur_frm.doc.voucher_type==\"Journal Entry\"){\n     cur_frm.set_value(\"naming_series\",\"JV.cc./1617/\")\n} \nelse if   (cur_frm.doc.voucher_type==\"Cash Entry\"){\n\n    cur_frm.set_value(\"naming_series\",\"CPV.cc./1617/\")\n    cur_frm.refresh_fields()\n}\nelse if   (cur_frm.doc.voucher_type==\"Debit Note\"){\n\n    cur_frm.set_value(\"naming_series\",\"DBN.cc./1617/\")\n    cur_frm.refresh_fields()\n}\nelse if   (cur_frm.doc.voucher_type==\"Credit Note\"){\n\n    cur_frm.set_value(\"naming_series\",\"CRN.cc./1617/\")\n    cur_frm.refresh_fields()\n}\n})\nfrappe.ui.form.on(\"Journal Entry\",\"voucher_type\" ,function(frm){\n\nif (cur_frm.doc.voucher_type==\"Journal Entry\"){\n     cur_frm.set_value(\"naming_series\",\"JV.cc./1617/\")\n} \nelse if   (cur_frm.doc.voucher_type==\"Cash Entry\"){\n\n    cur_frm.set_value(\"naming_series\",\"CPV.cc./1617/\")\n    cur_frm.refresh_fields()\n}\nelse if   (cur_frm.doc.voucher_type==\"Debit Note\"){\n\n    cur_frm.set_value(\"naming_series\",\"DBN.cc./1617/\")\n    cur_frm.refresh_fields()\n}\nelse if   (cur_frm.doc.voucher_type==\"Credit Note\"){\n\n    cur_frm.set_value(\"naming_series\",\"CRN.cc./1617/\")\n    cur_frm.refresh_fields()\n}\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Stock Entry", 
  "modified": "2016-09-17 16:10:53.739497", 
  "name": "Stock Entry-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Material Request", 
  "modified": "2016-09-17 16:11:12.236025", 
  "name": "Material Request-Client", 
  "script": "cur_frm.add_fetch(\"company\",\"code\",\"cc\")", 
  "script_type": "Client"
 }
]